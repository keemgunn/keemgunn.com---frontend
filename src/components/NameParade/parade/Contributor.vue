<template>
<div id="contributor-wrapper">

  <div class="header-wrapper" :class="{'lighten':header20}">
    <div class="header" :class="byType">
      <div id="text-box">
        <svg  viewBox="0 0 305 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g class="text"
          transform="translate(0.000000, 0.540000)" fill="#FFFFFF">
            <path d="M99.016,8.52 C99.616,8.52 100.174,8.42 100.69,8.22 C101.206,8.02 101.644,7.728 102.004,7.344 L102.004,7.344 L101.62,6.948 C100.94,7.62 100.08,7.956 99.04,7.956 C98.336,7.956 97.696,7.796 97.12,7.476 C96.544,7.156 96.092,6.714 95.764,6.15 C95.436,5.586 95.272,4.956 95.272,4.26 C95.272,3.564 95.436,2.934 95.764,2.37 C96.092,1.806 96.544,1.364 97.12,1.044 C97.696,0.724 98.336,0.564 99.04,0.564 C100.088,0.564 100.948,0.896 101.62,1.56 L101.62,1.56 L102.004,1.164 C101.644,0.78 101.208,0.49 100.696,0.294 C100.184,0.098 99.624,0 99.016,0 C98.192,0 97.45,0.184 96.79,0.552 C96.13,0.92 95.61,1.428 95.23,2.076 C94.85,2.724 94.66,3.452 94.66,4.26 C94.66,5.068 94.85,5.796 95.23,6.444 C95.61,7.092 96.13,7.6 96.79,7.968 C97.45,8.336 98.192,8.52 99.016,8.52 Z M109.076667,8.52 C109.900667,8.52 110.644667,8.336 111.308667,7.968 C111.972667,7.6 112.494667,7.092 112.874667,6.444 C113.254667,5.796 113.444667,5.068 113.444667,4.26 C113.444667,3.452 113.254667,2.724 112.874667,2.076 C112.494667,1.428 111.972667,0.92 111.308667,0.552 C110.644667,0.184 109.900667,0 109.076667,0 C108.252667,0 107.508667,0.186 106.844667,0.558 C106.180667,0.93 105.658667,1.44 105.278667,2.088 C104.898667,2.736 104.708667,3.46 104.708667,4.26 C104.708667,5.06 104.898667,5.784 105.278667,6.432 C105.658667,7.08 106.180667,7.59 106.844667,7.962 C107.508667,8.334 108.252667,8.52 109.076667,8.52 Z M109.076667,7.956 C108.372667,7.956 107.734667,7.796 107.162667,7.476 C106.590667,7.156 106.140667,6.714 105.812667,6.15 C105.484667,5.586 105.320667,4.956 105.320667,4.26 C105.320667,3.564 105.484667,2.934 105.812667,2.37 C106.140667,1.806 106.590667,1.364 107.162667,1.044 C107.734667,0.724 108.372667,0.564 109.076667,0.564 C109.780667,0.564 110.416667,0.724 110.984667,1.044 C111.552667,1.364 112.000667,1.806 112.328667,2.37 C112.656667,2.934 112.820667,3.564 112.820667,4.26 C112.820667,4.956 112.656667,5.586 112.328667,6.15 C112.000667,6.714 111.552667,7.156 110.984667,7.476 C110.416667,7.796 109.780667,7.956 109.076667,7.956 Z M117.817333,8.46 L117.817333,1.164 L123.541333,8.46 L124.045333,8.46 L124.045333,0.06 L123.433333,0.06 L123.433333,7.356 L117.721333,0.06 L117.205333,0.06 L117.205333,8.46 L117.817333,8.46 Z M130.83,8.46 L130.83,0.612 L133.854,0.612 L133.854,0.06 L127.194,0.06 L127.194,0.612 L130.217999,0.612 L130.217999,8.46 L130.83,8.46 Z M137.614666,8.46 L137.614666,5.712 L140.014666,5.712 C140.262666,5.712 140.534666,5.692 140.830666,5.652 L140.830666,5.652 L142.834666,8.46 L143.530666,8.46 L141.430666,5.52 C142.062666,5.336 142.548666,5.018 142.888666,4.566 C143.228666,4.114 143.398666,3.556 143.398666,2.892 C143.398666,2.004 143.098666,1.31 142.498666,0.81 C141.898666,0.31 141.070666,0.06 140.014666,0.06 L140.014666,0.06 L137.002666,0.06 L137.002666,8.46 L137.614666,8.46 Z M140.014666,5.172 L137.614666,5.172 L137.614666,0.612 L140.014666,0.612 C140.910666,0.612 141.594666,0.81 142.066666,1.206 C142.538666,1.602 142.774666,2.164 142.774666,2.892 C142.774666,3.62 142.538666,4.182 142.066666,4.578 C141.594666,4.974 140.910666,5.172 140.014666,5.172 L140.014666,5.172 Z M147.891333,8.46 L147.891333,0.06 L147.279333,0.06 L147.279333,8.46 L147.891333,8.46 Z M156.199999,8.46 C157.223999,8.46 157.995999,8.268 158.515999,7.884 C159.035999,7.5 159.295999,6.952 159.295999,6.24 C159.295999,5.664 159.137999,5.196 158.821999,4.836 C158.505999,4.476 158.047999,4.24 157.447999,4.128 C157.879999,3.984 158.221999,3.748 158.473999,3.42 C158.725999,3.092 158.851999,2.688 158.851999,2.208 C158.851999,1.52 158.597999,0.99 158.089999,0.618 C157.581999,0.246 156.871999,0.06 155.959999,0.06 L155.959999,0.06 L152.455999,0.06 L152.455999,8.46 L156.199999,8.46 Z M155.935999,3.936 L153.067999,3.936 L153.067999,0.588 L155.935999,0.588 C156.671999,0.588 157.237999,0.73 157.633999,1.014 C158.029999,1.298 158.227999,1.712 158.227999,2.256 C158.227999,2.808 158.029999,3.226 157.633999,3.51 C157.237999,3.794 156.671999,3.936 155.935999,3.936 L155.935999,3.936 Z M156.199999,7.932 L153.067999,7.932 L153.067999,4.464 L156.199999,4.464 C157.015999,4.464 157.633999,4.604 158.053999,4.884 C158.473999,5.164 158.683999,5.6 158.683999,6.192 C158.683999,6.784 158.473999,7.222 158.053999,7.506 C157.633999,7.79 157.015999,7.932 156.199999,7.932 L156.199999,7.932 Z M166.404666,8.52 C167.468666,8.52 168.296666,8.212 168.888666,7.596 C169.480666,6.98 169.776666,6.08 169.776666,4.896 L169.776666,4.896 L169.776666,0.06 L169.164666,0.06 L169.164666,4.872 C169.164666,5.904 168.928666,6.676 168.456666,7.188 C167.984666,7.7 167.304666,7.956 166.416665,7.956 C165.520666,7.956 164.836666,7.7 164.364666,7.188 C163.892666,6.676 163.656665,5.904 163.656665,4.872 L163.656665,4.872 L163.656665,0.06 L163.044666,0.06 L163.044666,4.896 C163.044666,6.08 163.338666,6.98 163.926666,7.596 C164.514666,8.212 165.340666,8.52 166.404666,8.52 Z M176.321332,8.46 L176.321332,0.612 L179.345332,0.612 L179.345332,0.06 L172.685332,0.06 L172.685332,0.612 L175.709332,0.612 L175.709332,8.46 L176.321332,8.46 Z M185.937999,8.52 C186.761999,8.52 187.505999,8.336 188.169999,7.968 C188.833999,7.6 189.355999,7.092 189.735999,6.444 C190.115999,5.796 190.305999,5.068 190.305999,4.26 C190.305999,3.452 190.115999,2.724 189.735999,2.076 C189.355999,1.428 188.833999,0.92 188.169999,0.552 C187.505999,0.184 186.761999,0 185.937999,0 C185.113999,0 184.369999,0.186 183.705999,0.558 C183.041999,0.93 182.519999,1.44 182.139999,2.088 C181.759999,2.736 181.569999,3.46 181.569999,4.26 C181.569999,5.06 181.759999,5.784 182.139999,6.432 C182.519999,7.08 183.041999,7.59 183.705999,7.962 C184.369999,8.334 185.113999,8.52 185.937999,8.52 Z M185.937999,7.956 C185.233999,7.956 184.595999,7.796 184.023999,7.476 C183.451999,7.156 183.001999,6.714 182.673998,6.15 C182.345999,5.586 182.181999,4.956 182.181999,4.26 C182.181999,3.564 182.345999,2.934 182.673998,2.37 C183.001999,1.806 183.451999,1.364 184.023999,1.044 C184.595999,0.724 185.233999,0.564 185.937999,0.564 C186.641999,0.564 187.277999,0.724 187.845999,1.044 C188.413999,1.364 188.861999,1.806 189.189999,2.37 C189.517999,2.934 189.681999,3.564 189.681999,4.26 C189.681999,4.956 189.517999,5.586 189.189999,6.15 C188.861999,6.714 188.413999,7.156 187.845999,7.476 C187.277999,7.796 186.641999,7.956 185.937999,7.956 Z M194.678665,8.46 L194.678665,5.712 L197.078665,5.712 C197.326665,5.712 197.598665,5.692 197.894665,5.652 L197.894665,5.652 L199.898665,8.46 L200.594665,8.46 L198.494665,5.52 C199.126665,5.336 199.612665,5.018 199.952665,4.566 C200.292665,4.114 200.462665,3.556 200.462665,2.892 C200.462665,2.004 200.162665,1.31 199.562665,0.81 C198.962665,0.31 198.134665,0.06 197.078665,0.06 L197.078665,0.06 L194.066665,0.06 L194.066665,8.46 L194.678665,8.46 Z M197.078665,5.172 L194.678665,5.172 L194.678665,0.612 L197.078665,0.612 C197.974665,0.612 198.658665,0.81 199.130665,1.206 C199.602665,1.602 199.838665,2.164 199.838665,2.892 C199.838665,3.62 199.602665,4.182 199.130665,4.578 C198.658665,4.974 197.974665,5.172 197.078665,5.172 L197.078665,5.172 Z M206.551332,8.52 C207.215332,8.52 207.775332,8.42 208.231332,8.22 C208.687332,8.02 209.025332,7.752 209.245332,7.416 C209.465332,7.08 209.575332,6.708 209.575332,6.3 C209.575332,5.804 209.445332,5.41 209.185332,5.118 C208.925332,4.826 208.611332,4.608 208.243332,4.464 C207.875332,4.32 207.383331,4.172 206.767332,4.02 C206.215332,3.884 205.779332,3.756 205.459332,3.636 C205.139332,3.516 204.871332,3.344 204.655332,3.12 C204.439332,2.896 204.331332,2.596 204.331332,2.22 C204.331332,1.724 204.531332,1.32 204.931331,1.008 C205.331332,0.696 205.919332,0.54 206.695332,0.54 C207.087332,0.54 207.485332,0.6 207.889332,0.72 C208.293332,0.84 208.663332,1.016 208.999331,1.248 L208.999331,1.248 L209.227332,0.756 C208.899332,0.524 208.511332,0.34 208.063332,0.204 C207.615332,0.068 207.159332,0 206.695332,0 C206.031332,0 205.477332,0.1 205.033332,0.3 C204.589332,0.5 204.259332,0.77 204.043332,1.11 C203.827332,1.45 203.719332,1.824 203.719332,2.232 C203.719332,2.736 203.849332,3.138 204.109332,3.438 C204.369332,3.738 204.685331,3.96 205.057331,4.104 C205.429332,4.248 205.923332,4.396 206.539332,4.548 C207.083332,4.676 207.515332,4.8 207.835331,4.92 C208.155331,5.04 208.423332,5.212 208.639332,5.436 C208.855332,5.66 208.963332,5.96 208.963332,6.336 C208.963332,6.824 208.759332,7.22 208.351332,7.524 C207.943331,7.828 207.339332,7.98 206.539332,7.98 C205.987332,7.98 205.461331,7.882 204.961331,7.686 C204.461331,7.49 204.063332,7.236 203.767332,6.924 L203.767332,6.924 L203.491332,7.38 C203.803332,7.716 204.237332,7.99 204.793332,8.202 C205.349332,8.414 205.935332,8.52 206.551332,8.52 Z" id="CONTRIBUTORS" fill-rule="nonzero"></path>
            <rect id="Rectangle" x="0" y="4.46" width="88" height="1"></rect>
            <rect id="Rectangle-Copy-3" x="217" y="4.46" width="88" height="1"></rect>
          </g>
        </svg>
      </div>
    </div>
  </div>

  <div class="list-box">
    <div class="list-item"
      :class="byType"
      :style="listOp"
      v-for="pathData in SIGNS" 
      :key="pathData[1]">
      <List :pathData="pathData"/>
    </div>
  </div>

  <div class="again-box">
    <div class="bw" :class="byType">
      <div class="btn" 
      @click="pathAgain()"
      >write again!</div>
    </div>
  </div>

  <mappedText />

  <div class="info-box">
    <div class="info" :class="byType">

      <div class="para">
      Web Application for NAMEPARADE2020:______DESIGNER <br>
      Software development and graphic design by <br>
      Keem Gunn
      </div>

      <div class="para">
      version {{VERSION}} <br>
      build {{BUILD}}
      </div>

      <div class="para">
        CONTACTS <br>
        gunnkeem@icloud.com <br>
        github.com/keemgunn <br>
        instagram.com/keemgunn <br>
      </div>

      <div class="para">
        ⓒ 2020. Keem Gunn. all rights reserved.
      </div>
    
    </div>
  </div>
</div>
</template>


<script>
import{ mapGetters, mapMutations } from 'vuex';
import List from './List';
import mappedText from './mappedText';


export default {
  name:"Contributor",
  components: { List, mappedText },
  data() { return {
    headerEl: null,
    headerTop: 0,
      header20: false,
    SCROLL: 0,
  }},
  computed: {
    ...mapGetters([
      'VERSION', 
      'BUILD', 
      'VIEWTYPE', 
      'byType', 
      'SIGNS'
    ]),

    HEADER_SCROLL: function(){
      return this.SCROLL / this.headerTop
    },

    listOp: function(){
      if(this.header20){
        return {  
          'transition': '600ms',
          'transition-timing-function': 'cubic-bezier(.71,.19,.66,.97)',
          opacity: '0.88'
        }
      }else{
        return {
          transition: '300ms',
          opacity: '0.46'
        }
      }
    }

  },
  watch: {
    
    HEADER_SCROLL(nu, old){
      if(this.VIEWTYPE !== 'wide'){
        if(nu > 0.8){
          this.header20 = true
        }else if(nu > 0.2){
          this.header20 = true
        }else{
          this.header20 = false
        }
      }else{
        return old
      }
    },

  },
  methods: {
    ...mapMutations(['pathAgain']),

    getCoords(elem) {
      var box = elem.getBoundingClientRect();
      var body = document.body;
      var docEl = document.documentElement;
      var scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;
      var clientTop = docEl.clientTop || body.clientTop || 0;
      var top  = box.top +  scrollTop - clientTop;
      return Math.round(top)
    },

    handleScroll(){
      this.SCROLL = window.scrollY;
    },

  },
  created() {

    window.addEventListener('scroll', this.handleScroll)

  },
  mounted() {

    this.headerEl = document.querySelector('.header');
    this.headerTop = this.getCoords(this.headerEl);
    if(this.VIEWTYPE === 'wide'){
      this.header20 = true;
    }

  }
}
</script>


<style lang="scss" scoped> 
#contributor-wrapper{
  position: relative;
  width: 100%; height: fit-content;
  // background-color: rgba(0, 191, 255, 0.445);
}
.header-wrapper{
  opacity: 0.43;
  transition: 300ms;
  .header{
    position: relative; top: 0; left: 0;
    width: 100%; 
    font-family: 'Montserrat', sans-serif;
    // background-color: rgba(152, 251, 152, 0.479);
  }._small{
    height: 8vw;
    padding-top: 14vw;
    padding-bottom: 6vw;
    font-size: 5vw;
  }._narrow{
    height: 8vw;
    padding-top: 14vw;
    padding-bottom: 6vw;
    font-size: 5vw;
  }._tablet{
    height: 8vw;
    padding-top: 3vw;
    padding-bottom: 3vw;
    font-size: 5vw;
  }._wide{
    width: 88%; left: 6%;
    padding-top: 5%;
    padding-bottom: 5%;
  }
}
.text{
  position: relative; top: 0; left: 0;
  width: 100%; height: fit-content;
  transition: 800ms;
  fill: rgb(255, 255, 255);
}
.lighten{
  transition: 600ms;
  transition-timing-function: cubic-bezier(.71,.19,.66,.97);
  opacity: 1;
}
.list-box{
  position: relative; top: 0; left: 0;
  .list-item{
    position: relative; top: 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.699);
    // background-color: rgba(230, 15, 147, 0.514);
  }._small{
    width: 100%; height: 20vw;
    margin-bottom: 3vw;
  }._narrow{
    width: 100%; height: 20vw;
    margin-bottom: 4vw;
  }._tablet{
    width: 100%; height: 16vw;
    margin-bottom: 3vw;
  }._wide{
    width: 88%; left: 6%;
    height: 10vh;
    margin-bottom: 3vw;
  }
}

.info-box{
  position: relative; top: 0; left: 0;
  font-family: 'Montserrat', sans-serif;
  color: rgba(255, 255, 255, 0.568);
  ._info{
    position: relative; top: 0; left: 0;
  }._small{
    padding-top: 10vh;
    padding-bottom: 8vh;
    font-size: 2.8vw;
    line-height: 3.9vw;
    .para{
      margin-bottom: 1.3vh;
    }
  }._narrow{
    padding-top: 10vh;
    padding-bottom: 8vh;
    font-size: 2.8vw;
    line-height: 3.9vw;
    .para{
      margin-bottom: 1.3vh;
    }
  }._tablet{
    padding-top: 10vh;
    padding-bottom: 8vh;
    font-size: 2.4vw;
    line-height: 3.5vw;
    .para{
      margin-bottom: 1.3vh;
    }
  }._wide{
    padding-top: 10vh;
    padding-bottom: 8.8vh;
    font-size: 1.8vh;
    line-height: 2.4vh;
    .para{
      margin-bottom: 1.3vh;
    }
  }
}

.again-box{
  position: relative;
  margin-top: 4.3vw;
  width: 100%;
  .bw{
    display: flex;
    width: 100%;
    justify-content: center;
    .btn {
      position: absolute; 
      width: 48%; height: 82%;
      border: 2px solid white;
      user-select: none;
      font-family: 'Montserrat', sans-serif;
      font-weight: 400;
      letter-spacing: -0.6%;
      transition: 600ms;
    }
  }
  ._small { 
    height: calc(88vw * (.16));
    font-size: 5vw;
    line-height: 11.5vw;
    // margin-top: 2vw;
    .btn:hover {
      cursor: pointer;
      background-color: transparent;
      transition: 600ms;
    }
    .btn:active {
      transition: 140ms;
      background-color:rgba(240, 248, 255, 0.55);
    }
  }
  ._narrow { 
    height: calc(88vw * (.16));
    font-size: 5vw;
    line-height: 11.5vw;
    // margin-top: 2vw;
    .btn:hover {
      cursor: pointer;
      background-color: transparent;
      transition: 600ms;
    }
    .btn:active {
      transition: 140ms;
      background-color:rgba(240, 248, 255, 0.55);
    }
  }
  ._tablet { 
    height: calc(64vw * (.16));
    font-size: 4vw;
    line-height: 8vw;
    // margin-top: 2vw;
    .btn:hover {
      cursor: pointer;
      background-color: transparent;
      transition: 600ms;
    }
    .btn:active {
      transition: 140ms;
      background-color:rgba(240, 248, 255, 0.55);
    }
  }
  ._wide {
    height: calc(36vw * (.16));
    font-size: 2.8vw;
    line-height: 4.6vw;
    .btn:hover {
      cursor: pointer;
      background-color: rgba(240, 248, 255, 0.3);
      transition: 140ms;
    }
    .btn:active {
      background-color:rgba(240, 248, 255, 0.55);
    }
  }

}




</style>